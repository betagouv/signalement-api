@import models.report.ReportResponse
@import models.report.Report
@import java.net.URI
@import models.report.Report
@import models.report.ReportResponse
@import models.report.review.ResponseEvaluation
@import models.company.Company
@(report: Report,maybeCompany: Option[Company], reportResponse: ReportResponse, reviewUrl: (ResponseEvaluation) => URI)(implicit messageProvider: MessagesProvider)

@views.html.mails.layout(Messages("ConsumerReportAckProEmail.title")) {
    <p>
    @Messages("ConsumerReportAckProEmail.greeting", report.firstName, report.lastName)
    </p>

    <p>
    @Messages("ConsumerReportAckProEmail.reportDescription", report.creationDate.format(java.time.format.DateTimeFormatter.ofPattern("dd/MM/yyyy")))
    </p>
    @if(report.companySiret.isDefined) {
        <p style="text-align: center;">
        @Html(Messages("ConsumerReportAckProEmail.companySiret", report.companySiret.get))
        </p>
    }
    <p style="text-align: center;">
    @views.html.fragments.proAddressForConsumer(maybeCompany)
    </p>

    <p>
        <b>@Messages("ConsumerReportAckProEmail.responseHeader")</b>
    </p>

    <p>@Messages("ConsumerReportAckProEmail.responseContent")</p>

    <p>
        <i>"@reportResponse.consumerDetails"</i>
    </p>

    <p>
        <b>@Messages("ConsumerReportAckProEmail.satisfactionQuestion")</b> @Messages("ConsumerReportAckProEmail.clickYourChoice")
    <div style="display: flex; margin: 50px ">
        <a href="@reviewUrl(ResponseEvaluation.Positive)" target="_blank" style="padding-right:20px">
            <img src='cid:happy' alt="positif" width="75" height="75">
            <p style="text-align:center;">Satisfait</p>
        </a>
        <a href="@reviewUrl(ResponseEvaluation.Neutral)" target="_blank" style="padding-right:20px; padding-left:20px">
            <img src='cid:neutral' alt="neutre" width="75" height="75"/>
            <p style="text-align:center;">Neutre</p>
        </a>
        <a href="@reviewUrl(ResponseEvaluation.Negative)" target="_blank" style="padding-left:20px">
            <img src='cid:sad' alt="négatif" width="75" height="75" />
            <p style="text-align:center;">Mécontent</p>
        </a>
    </div>
    </p>

    <p>
        <b>@Messages("ConsumerReportAckProEmail.situationImprovement")</b>
    </p>

    <p>
        <b>@Messages("ConsumerReportAckProEmail.waitingForImprovement")</b>
        <br/>
        @Messages("ConsumerReportAckProEmail.newReportLink")
    </p>

    <p>
        @Html(Messages("ConsumerReportAckProEmail.satisfactionRequest"))
    </p>
    <p>
        @Html(Messages("ConsumerReportAckProEmail.serviceImprovement"))
    </p>
    <p>@Messages("ConsumerReportAckProEmail.contributionThanks")</p>
    <p>@Messages("ConsumerReportAckProEmail.spreadTheWord")</p>

    <p>
        <i>@Messages("ConsumerReportAckProEmail.teamSignature")</i>
    </p>

    <div style="padding-bottom: 0.5em">
        <div style="font-weight: bold;
            text-align: center;
            border-top: 1px solid #D3D3D3;
            border-bottom: 1px solid #D3D3D3;
            padding: 10px 0;
            margin: 10px">
        @Messages("ConsumerReportAckProEmail.signalConsoExplanationHeader")
        </div>
        <img src="cid:schemaSignalConso-Etape4" style="max-width: 100%"/>
    </div>
}
