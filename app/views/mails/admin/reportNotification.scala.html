@(report: Report, files: List[ReportFile])(implicit request: play.api.mvc.Request[Any])

@views.html.mails.layout("Nouveau signalement") {
    <ul>
        <li>
            Catégorie : @report.category
        </li>
        <li>
            Sous-catégories : @report.subcategories.map { subcategory =>
            <br />
            @subcategory
        }
        </li>

        @report.details.map { detailInputValue =>
            <li>
                @Html(detailInputValue.label) @Html(detailInputValue.value)
            </li>
        }
    </ul>
    <ul>
    @if(report.companySiret.isDefined) {
        <li>
            Nom de l'entreprise : @report.companyName.get
        </li>
        <li>
            Adresse de l'entreprise : @report.companyAddress.get
        </li>
        <li>
            Siret : @report.companySiret.get
        </li>
    }
    @if(report.websiteURL.isDefined) {
        <li>
            Site internet : @report.shortURL.get
        </li>
    }
    </ul>
    <ul>
        <li>
            Nom : @report.lastName
        </li>
        <li>
            Prénom : @report.firstName
        </li>
        <li>
            Email : @report.email
        </li>
        <li>
            Accord pour contact : @if(report.contactAgreement) {oui} else {non}
        </li>
        <li>
            Lanceur d'alerte : @if(report.employeeConsumer) {oui} else {non}
        </li>
    </ul>
    <ul>
        <li>
            Identifiant technique : @report.id
        </li>
    </ul>
    <ul>
        <li>
        @files match {
            case List() => { Aucune pièce jointe }
            case files => {
                Pièces jointes :
                <ul>
                @files.map { file =>
                    <li>
                        <a href="@routes.ReportController.downloadReportFile(file.id.toString, file.filename).absoluteURL()">@file.filename</a>
                            &nbsp;(@file.id)
                    </li>
                }
                </ul>
            }
        }
        </li>
    </ul>
}